{% extends 'main/loaut.html' %}
{% block title %}Задания {% endblock title %}
{% block content %}
<main role="main" class="col-md-8 ml-sm-auto col-lg-11 pt-3 px-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h2">{{title}}</h1>
      </div>
    <h1 class="h5">sql уровень: {{level}}</h1><p>{{body}}</p>
    <table class="table table-bordered mt-4 table-hover">
  <thead class="thead-dark">
    <tr>
      <th scope="col">id</th>
      <th scope="col">Актер</th>
      <th scope="col">Фильм</th>
    </tr>
  </thead>
  <tbody>
  {% for i in array%}
    <tr>
        <th>{{i.id}}</th>
        <th>{{i.id_actor.name}}</th>
        <td>{{i.id_film.film}}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
    <p class="mt-3 font-weight-bold">Решение: {% for i in task %}
        {{i}},
        {% endfor %}
    </p>

    <button class="btn btn-outline-primary" onclick="document.getElementById('kod').hidden = document.getElementById('kod').hidden !== true;">Показать код</button>
    <a href="/tasks" class="btn btn-outline-primary">Вернуться</a>
    <div id="kod" style="background: lightgrey; width: 660px; padding-left: 10px; border-radius: 10px" class="mt-3" hidden="true">
<pre>
popular = Actor.objects.all()
counter = {}

for elem in popular:
    counter[elem.name] = counter.get(elem.name, 0) + 1

task = {element: count for element, count in counter.items() if count > 1}
</pre>
    </div>
</main>
{% endblock content %}
