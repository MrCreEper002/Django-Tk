{% extends 'main/loaut.html' %}
{% block title %}Задания {% endblock title %}
{% block content %}
<main role="main" class="col-md-8 ml-sm-auto col-lg-11 pt-3 px-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h2">{{title}}</h1>
      </div>
    <h1 class="h5">php уровень: {{level}}</h1><p>{{body}}</p>
    <p class="mt-3 font-weight-bold">Решение: {{task}}</p>
    {% if error %}
    <div class="alert alert-danger">
        Вы ввели запрещенный логин или не допустимый логин. (логин должен без пробела!)
    </div>
    {% endif %}
    {% if errorAuth %}
    <div class="alert alert-danger">
        Вы ввели не правильный логин!. (логин должен без пробела!)
    </div>
    {% endif %}
    {% if form1 %}
    <form method="post" action="">
    {% csrf_token %}
  <div class="form-group">
      {{form}}
  </div>
  <button type="submit" class="btn btn-primary mb-3">Войти</button>
</form>
    {% endif %}
    {% if exit %}
    <a href="/exit" class="btn btn-outline-primary mb-2">Выход</a><br>
    {% endif %}

    <button class="btn btn-outline-primary" onclick="document.getElementById('kod').hidden = document.getElementById('kod').hidden !== true;">Показать код</button>
    <a href="/tasks" class="btn btn-outline-primary">Вернуться</a>
    <div id="kod" style="background: lightgrey; width: 600px; padding-left: 10px; border-radius: 10px" class="mt-3" hidden="true">
<pre>
def exit_cookies(request):
    response = redirect(reverse('auth'))
    response.delete_cookie('login')
    response.delete_cookie('name')
    response.delete_cookie('name1')
    return response

if 'login' in request.COOKIES:
    value = request.COOKIES['login']
    date['exit'] = True
    date['form1'] = False
    # return redirect(reverse('auth'))
    return render(request, 'main/tasks/tasks1.html', date)
if request.method == 'POST':
    l = request.POST.get('login')
    p = request.POST.get('password')
    if l == 'alex' and p == '1':
        response = render(request, 'main/tasks/tasks1.html', date)
        set_cookie(response, 'login', l)
        date['form1'] = False
        return response
date['form'] = Auth
return render(request, 'main/tasks/tasks1.html', date)
</pre>
    </div>
</main>
{% endblock content %}
